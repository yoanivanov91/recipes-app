<div class="recipe-container">
    <div
        class="d-flex justify-content-center"
        *ngIf="recipe.isLoading || recipe.isError"
    >
        <div class="spinner-border" role="status" *ngIf="recipe.isLoading">
        <span class="visually-hidden">Loading...</span>
        </div>
        <p class="m-0" *ngIf="recipe.isError">
        Oops! Something went wrong while getting the recipes for you. Please
        refresh the page.
        </p>
    </div>
    <ng-container *ngIf="recipe.isSuccess">
        <div
        class="recipe-img animate__animated animate__fadeIn"
        style="background-image: url({{ recipe.data.image }})"
        ></div>
        <div class="animate__animated animate__slideInRight animate__fast">
        <a
            class="simple-link d-flex align-items-center fw-semibold"
            (click)="back()"
        >
            <i class="bi bi-arrow-left icon-button-size me-2"></i>
            <span>Go back</span>
        </a>
        <div class="recipe-content-container">
            <div class="d-flex justify-content-between align-items-center">
            <span class="badge badge-icon">{{ recipe.data.category }}</span>
            <a href="#" title="Like">
                <i class="bi bi-heart-fill icon-button-size icon-button-color"></i>
            </a>
            </div>
            <h1 class="headline m-0">{{ recipe.data.title }}</h1>
            <p class="info m-0">
            added by {{ recipe.data.owner.firstName }}
            {{ recipe.data.owner.lastName }}<br />
            last update on
            {{
                stringAsDate(recipe.data.updatedAt) | date : "dd/MM/yyyy HH:mm:ss"
            }}
            </p>
            <div class="d-flex align-items-center gap-5">
            <div class="d-flex align-items-center">
                <i class="bi bi-clock icon-button-size me-2"></i>
                <span>{{ recipe.data.time ? recipe.data.time : "N/A" }} mins</span>
            </div>
            <div class="d-flex align-items-center">
                <i class="bi bi-hand-thumbs-up icon-button-size me-2"></i>
                <span
                >{{ recipe.data.likes }}
                {{ recipe.data.likes == 1 ? " like" : " likes" }}</span
                >
            </div>
            </div>
            <h1
            class="headline mb-0 mt-3 d-flex align-items-center justify-content-between"
            (click)="toggleIngredients()"
            role="button"
            data-bs-toggle="collapse"
            data-bs-target="#ingredients"
            aria-expanded="false"
            aria-controls="ingredients"
            >
            Ingredients
            <i
                [ngClass]="
                isIngredientsOpen ? 'bi-caret-up-fill' : 'bi-caret-down-fill'
                "
                class="bi icon-button-size icon-button-color"
            ></i>
            </h1>
            <ul class="m-0 ps-3 collapse" id="ingredients">
            <li *ngFor="let ingredient of recipe.data.ingredients">
                {{ ingredient }}
            </li>
            </ul>
            <h1
            class="headline mb-0 mt-3 d-flex align-items-center justify-content-between"
            (click)="toggleHowTo()"
            role="button"
            data-bs-toggle="collapse"
            data-bs-target="#howto"
            aria-expanded="false"
            aria-controls="howto"
            >
            How to prepare
            <i
                [ngClass]="isHowToOpen ? 'bi-caret-up-fill' : 'bi-caret-down-fill'"
                class="bi icon-button-size icon-button-color"
            ></i>
            </h1>
            <p class="m-0 collapse" id="howto">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Corrupti, ea!
            Voluptates aliquid explicabo maiores harum reiciendis, modi iusto eos
            laboriosam quas a delectus quisquam omnis suscipit perferendis, dolore
            deleniti eius. Lorem ipsum dolor sit amet, consectetur adipisicing
            elit. Nisi in optio dolor labore natus ducimus eius vel hic cum
            molestias, dolorum tempora non itaque? Modi maxime consequatur sit eos
            eius.
            </p>
        </div>
        </div>
    </ng-container>
</div>
<div class="more-recipes-container animate__animated animate__slideInUp animate__fast">
    <div>
        
        <h1 class="headline">More {{recipe?.data?.category | lowercase}} recipes</h1>
    
        <div
          class="d-flex justify-content-center"
          *ngIf="moreFromCategory?.isLoading || moreFromCategory?.isError"
        >
          <div
            class="spinner-border"
            role="status"
            *ngIf="moreFromCategory?.isLoading"
          >
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="m-0" *ngIf="moreFromCategory?.isError">Oops! Something went wrong while getting the recipes for you. Please refresh the page.</p>
        </div>
    
        <div class="cards" *ngIf="moreFromCategory?.isSuccess">
          <div
            class="card-container"
            *ngFor="let recipe of moreFromCategory.data"
          >
            <app-recipe-item [recipe]="recipe"></app-recipe-item>
          </div>
        </div>
    </div>
    <div>
        
        <h1 class="headline">More recipes from {{recipe?.data?.owner?.firstName}}</h1>
    
        <div
          class="d-flex justify-content-center"
          *ngIf="moreFromUser?.isLoading || moreFromUser?.isError"
        >
          <div
            class="spinner-border"
            role="status"
            *ngIf="moreFromUser?.isLoading"
          >
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="m-0" *ngIf="moreFromUser?.isError">Oops! Something went wrong while getting the recipes for you. Please refresh the page.</p>
        </div>
    
        <div class="cards" *ngIf="moreFromUser?.isSuccess">
          <div
            class="card-container"
            *ngFor="let recipe of moreFromUser.data"
          >
            <app-recipe-item [recipe]="recipe"></app-recipe-item>
          </div>
        </div>
    </div>
</div>
